#autoline 10
#program httpbank

; note that this version of code will not work with the cspect emulator
; see cspect-demo.bas instead.

CLS
BANK 30 ERASE : BANK 31 ERASE

h$="data.remysharp.com"
b$="30"

LOAD "httpbank.bas.txt" BANK 30
PRINT "posting"
../httpbank post -b b$ -h h$ -l 20 -u /1
PRINT "done"
PRINT "now getting"
; http://data.remysharp.com/test-bytes responds with 256 bytes 0-$ff
../httpbank get -h h$ -b 31 -o 100 -u /3 : ; $3E
PRINT "complete, reading substring:"

; peek from offset (100) + 48 (which is the start of numbers in ascii)
r$= BANK 31 PEEK$ (148,32)
PRINT INVERSE 1;r$
PAUSE 0
